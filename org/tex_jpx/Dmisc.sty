%
%      dmisc.sty                 ver 1.0  92/03/24
%
%  following environments are defined
%
%  \begin{Dreference}    \end{Dreference}
%  \begin{Dnitemize}     \end{Dnitemize}
%  \begin{Dlist}         \end{Dlist}
%
%  following commands are defined
%
%  \Dparindent
%  \Dnoparindent
%  \Dparskip
%  \Dnoparskip
%  \Dsethead
%  \Dtoday
%  \Dentry
%  \Deqlab    \Deqref
%  \Dfiglab   \Dfigref \DFigref
%  \Dtablab   \Dtabref
%  \Dseclab   \Dsecref
%  \Dchaplab  \Dchapref
%  \Dsidenote
%
\newlength{\D@parindent}
\setlength{\D@parindent}{\parindent}
\def\Dparindent{\setlength{\parindent}{\D@parindent}}
\def\Dnoparindent{\setlength{\parindent}{0pt}}
\def\Dparskip{\setlength{\parskip}{3ex}}
\def\Dnoparskip{\setlength{\parskip}{0}}
%
\def\Dsethead{\let\firstmark\botmark}
%
\@ifundefined{DselJ}{\gdef\DselJ#1#2{#1}}{}
\def\@chapapp#1#2{\DselJ{第#2章}{Chapter#1#2}}
\def\fnum@figure{\DselJ{図}{Figure} \thefigure}
\def\D@refapp{\DselJ{文献}{Reference}}
%
\def\Dreference{\@ifundefined{chapter}%
                {\section*{\D@refapp\@mkboth{\D@refapp}{\D@refapp}}}
                {\chapter*{\D@refapp\@mkboth{\D@refapp}{\D@refapp}}}
                \list{}{\labelwidth\z@ \itemindent-\leftmargin
                \let\makelabel\descriptionlabel}}
\let\endDreference\endlist
%
\newcount\D@year
\def\Dtoday{\D@year=\year\advance\D@year -1900 %
            \ \number\D@year /\nobreak%
            \ifnum\month<10 0\fi%
            \number\month /\nobreak%
            \ifnum\day<10 0\fi%
            \number\day}
%
\def\Dentry#1{\label{#1}\index{#1}}
%
\@ifundefined{Dlabel}{\let\Dlabel\label}{}
\def\Deqlab#1{\Dlabel{eq:#1}}
\def\Dfiglab#1{\Dlabel{fig:#1}}
\def\Dtablab#1{\Dlabel{tab:#1}}
\def\Dseclab#1{\Dlabel{sec:#1}}
\def\Dchaplab#1{\Dlabel{chap:#1}}
%
\def\Deqref#1{(\ref{eq:#1})}
\def\Dfigref#1{\DselJ{図}{Fig.}\ref{fig:#1}}
\def\DFigref#1{\DselJ{図}{Figure }\ref{fig:#1}}
\def\Dtabref#1{\DselJ{表}{Table }\ref{tab:#1}}
\def\Dsecref#1{\DselJ{第\ref{sec:#1}節}{Section \ref{sec:#1}}}
\def\Dchapref#1{\DselJ{第\ref{chap:#1}章}{Chapter \ref{chap:#1}}}
%
\def\Dnitemize{\vskip -1ex
   \list{TERM00000}{\itemsep=0.0pt \parsep=0.0pt}}
\def\endDnitemize{\endlist\vskip -1ex}
%
\def\Dsidenote#1{\marginpar{\scriptsize #1}}
%
\def\Dlistlabel#1{\mbox{\bf #1}\hfil}
\def\Dlistlabelsep{1em}
\def\Dlisttemplate{XXXXXXXX}
\def\Dlist{\@ifnextchar[{\D@list} %]
                {\D@list[\Dlisttemplate]}}
\def\D@list[#1]{%
  \list{}{\let\makelabel\Dlistlabel
  \settowidth{\labelwidth}{#1}
  \leftmargin=\labelwidth 
  \addtolength{\leftmargin}{\Dlistlabelsep}}}
\let\endDlist\endlist



